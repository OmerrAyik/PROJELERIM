<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelime Listening</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f8f9fa;
            background-image: url(resim/halftone-background-with-circles_23-2148907689.jpg);
        }

        .question {
            margin: 20px auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .options button {
            margin: 5px;
            padding: 10px;
            cursor: pointer;
        }

        .correct {
            background-color: #28a745;
            color: #ffffff;
        }

        .incorrect {
            background-color: #dc3545;
            color: #ffffff;
        }

        .feedback {
            margin-top: 20px;
            font-weight: bold;
        }
        .mt-5,.mt-4
        {
            color: #fff;
        }
    </style>
</head>

<body>


    <div class="container">
        <h1 class="mt-5">Kelime Listening</h1>
        <div id="score" class="mt-4">Skor: 0 / 100</div>
        <div id="question-container" class="mt-4">
            <!-- Sorular ve seçenekler burada JavaScript ile oluşturulacak -->
        </div>
        <div id="feedback" class="mt-4"></div>
    </div>

    <!-- Bootstrap JS ve Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="questions.js"></script> <!-- Soruların ayrı bir dosyadan alınması -->

    <!-- Bootstrap JS ve Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Sorular ve cevaplar
        // Sorular ve cevaplar
        const questions = [
            {
                word: "Question 1",
                audio: "environmental/wheather/wheather/rainy.mp3",
                options: ["A-Rainy", "B-Sunny", "C-Foogy", "D-Thunder"],
                correctAnswer: "A-Rainy",
                points: 5
            },
            {
                word: "Question 2",
                audio: "environmental/wheather/wheather/rainbow.mp3",
                options: ["A-Snowy", "B-Rainbow", "C-Thunder", "D-Windy"],
                correctAnswer: "B-Rainbow",
                points: 5
            },
            {
                word: "Question 3",
                audio: "environmental/wheather/wheather/foggy.mp3",
                options: ["A-Foggy", "B-Windy", "C-Windy", "D-Hot"],
                correctAnswer: "A-Foggy",
                points: 5
            },
            {
                word: "Question 4",
                audio: "environmental/wheather/wheather/cloudy.mp3",
                options: ["A-Foggy", "B-Windy", "C-Windy", "D-Cloudy"],
                correctAnswer: "D-Cloudy"
                ,
                points: 5
            },
            {
                word: "Question 5",
                audio: "environmental/wheather/wheather/hot.mp3",
                options: ["A-Cloudy", "B-Windy", "C-Hot", "D-Foggy"],
                correctAnswer: "C-Hot"
                ,
                points: 5
            },
            {
                word: "Question 6",
                audio: "environmental/wheather/wheather/cold.mp3",
                options: ["A-Foggy", "B-Cold", "C-Cloudy", "D-Hot"],
                correctAnswer: "B-Cold"
                ,
                points: 5
            },
            {
                word: "Question 7",
                audio: "environmental/wheather/wheather/snowy.mp3",
                options: ["A-Foggy", "B-Windy", "C-Thunder", "D-Snowy"],
                correctAnswer: "D-Snowy"
                ,
                points: 5
            },
            {
                word: "Question 8",
                audio: "environmental/wheather/wheather/windy.mp3",
                options: ["A-Cold", "B-Windy", "C-Thunder", "D-Snowy"],
                correctAnswer: "B-Windy"
                ,
                points: 5
            },
            {
                word: "Question 9",
                audio: "environmental/wild-animals/wild-animals/lion.mp3",
                options: ["A-Tigger", "B-Elephant", "C-Lion", "D-Monkey"],
                correctAnswer: "C-Lion"
                ,
                points: 5
            },
            {
                word: "Question 10",
                audio: "environmental/wild-animals/wild-animals/elephant.mp3",
                options: ["A-Fox", "B-Wolf ", "C-Lion", "D-Elephant"],
                correctAnswer: "D-Elephant"
                ,
                points: 5
            },
            {
                word: "Question 11",
                audio: "environmental/wild-animals/wild-animals/bluewhale.mp3",
                options: ["A-Cougar", "B-Bluewhale", "C-Lion", "D-Coyote"],
                correctAnswer: "B-Bluewhale"
                ,
                points: 5
            },
            {
                word: "Question 12",
                audio: "environmental/wild-animals/wild-animals/octopus.mp3",
                options: ["A-Octopus", "B-Bluewhale", "C-Lion", "D-Coyote"],
                correctAnswer:"A-Octopus"
                ,
                points: 5
            },
            {
                word: "Question 13",
                audio: "environmental/wild-animals/wild-animals/cougar.mp3",
                options: ["A-Elephant", "B-Snake", "C-Wolf", "D-Cougar"],
                correctAnswer:  "D-Cougar"
                ,
                points: 5
            },
            {
                word: "Question 14",
                audio: "environmental/wild-animals/wild-animals/Snake.mp3",
                options: ["A-Elephant", "B-Snake", "C-Wolf", "D-Cougar"],
                correctAnswer: "B-Snake"
                ,
                points: 5
            },
            {
                word: "Question 15",
                audio: "environmental/wild-animals/wild-animals/wolf.mp3",
                options: ["A-Wolf", "B-Snake", "C-Elephant", "D-Cougar"],
                correctAnswer: "A-Wolf"
                ,
                points: 5
            },
            {
                word: "Question 16",
                audio: "environmental/wild-animals/wild-animals/raccon.mp3",
                options: ["A-Wolf", "B-Snake", "C-Raccon", "D-Cougar"],
                correctAnswer: "C-Raccon"
                ,
                points: 5
            },
            {
                word: "Question 17",
                audio: "environmental/wild-animals/wild-animals/starfish.mp3",
                options: ["A-Wolf", "B-Snake", "C-Raccon", "D-Starfish"],
                correctAnswer: "D-Starfish"
                ,
                points: 5
            },
            {
                word: "Question 18",
                audio: "environmental/wild-animals/wild-animals/coyote.mp3",
                options: ["A-Wolf", "B-Coyote", "C-Raccon", "D-Cougar"],
                correctAnswer: "B-Coyote"
                ,
                points: 5
            },
            {
                word: "Question 19",
                audio: "environmental/wild-animals/wild-animals/alligator.mp3",
                options: ["A-Alligator", "B-Snake", "C-Raccon", "D-Cougar"],
                correctAnswer: "A-Alligator"
                ,
                points: 5
            },
            {
                word: "Question 20",
                audio: "environmental/wild-animals/wild-animals/bear.mp3",
                options: ["A-Wolf", "B-Bear", "C-Raccon", "D-Cougar"],
                correctAnswer: "B-Bear"
                ,
                points: 5
            }
            // Diğer sorular buraya eklenebilir
        ];

        // Toplam skor
        let score = 0;

        // HTML içerisinde soruları oluştur
        const questionContainer = document.getElementById("question-container");
        const feedbackDiv = document.getElementById("feedback");

        questions.forEach((question, index) => {
            const questionDiv = document.createElement("div");
            questionDiv.className = "question";
            questionDiv.id = `question${index + 1}`;

            const audioElement = document.createElement("audio");
            audioElement.src = question.audio;
            audioElement.controls = true;
            questionDiv.appendChild(audioElement);

            const optionsDiv = document.createElement("div");
            optionsDiv.className = "options";

            question.options.forEach((option, i) => {
                const button = document.createElement("button");
                button.textContent = option;
                button.id = `q${index + 1}Option${String.fromCharCode(65 + i)}`;
                button.onclick = function () {
                    checkAnswer(index, i, `feedback${index + 1}`);
                };
                optionsDiv.appendChild(button);
            });

            const feedbackDiv = document.createElement("div");
            feedbackDiv.id = `feedback${index + 1}`;
            feedbackDiv.className = "feedback mt-4";
            questionDiv.appendChild(optionsDiv);
            questionDiv.appendChild(feedbackDiv);
            questionContainer.appendChild(questionDiv);
        });

        // Cevap kontrolü ve geri bildirimi ayarla
        // Cevap kontrolü ve geri bildirimi ayarla
        function checkAnswer(questionIndex, selectedOptionIndex, feedbackDivId) {
            const questionDiv = questionContainer.children[questionIndex];
            const optionsDiv = questionDiv.querySelector(".options");
            const correctAnswerIndex = questions[questionIndex].options.indexOf(questions[questionIndex].correctAnswer);
            const feedbackDiv = document.getElementById(feedbackDivId);

            if (selectedOptionIndex === correctAnswerIndex) {
                optionsDiv.children[selectedOptionIndex].classList.add("correct");
                feedbackDiv.textContent = "Tebrikler! Doğru bildiniz.";
                // Skoru güncelle
                updateScore(questions[questionIndex].points);
            } else {
                optionsDiv.children[selectedOptionIndex].classList.add("incorrect");
                optionsDiv.children[correctAnswerIndex].classList.add("correct");
                feedbackDiv.textContent = "Yanlış cevap! Lütfen tekrar gözden geçiriniz.";
            }

            // Butonlara tıklamayı devre dışı bırak
            disableButtons(optionsDiv);

            // Tüm soruları cevapladıysak, sonuçları göster
            if (questionIndex === questions.length - 1) {
                showResult();
            }
        }


        // Skoru güncelle
        function updateScore(points) {
            score += points;
            // Skoru ekranda göster
            document.getElementById("score").textContent = `Skor: ${score} / 100`;
        }

        // Butonları devre dışı bırak
        function disableButtons(optionsDiv) {
            Array.from(optionsDiv.children).forEach(button => {
                button.disabled = true;
            });
        }

        // Sonuçları göster
        function showResult() {
            const resultDiv = document.createElement("div");
            resultDiv.textContent = `Toplam Skor: ${score} / 100`;
            feedbackDiv.appendChild(resultDiv);
        }
    </script>

</body>

</html>